# ユースケース記述(商品を購入する(購入時にユーザー認証))

## ユースケース名

商品購入時にユーザー認証して商品を購入する

## アクター名

登録ユーザー

## 基本フロー

1. 登録ユーザーは商品検索画面の商品一覧から一つの商品を選択し、「カートに追加」ボタンを押下する
1. システムは選択された商品情報をショッピングカート情報に追加する
1. 登録ユーザーは商品検索画面の「ショッピングカート」アイコンをクリックする
1. システムはショッピングカート確認画面を表示する
1. 登録ユーザーはショッピングカート確認画面の「購入手続きへ」ボタンを押下する
1. システムは購入前認証画面を表示する
1. 登録ユーザーは購入前認証画面の「ユーザーID」テキストボックスにメールアドレスを入力する
1. 登録ユーザーは購入前認証画面の「パスワード」テキストボックスにパスワードを入力する
1. 登録ユーザーは購入前認証画面の「ログインして購入手続きへ」ボタンを押下する
1. システムは購入前認証画面からの入力内容とユーザー情報を照合する
1. システムは支払方法選択画面を表示する
1. 登録ユーザーは支払方法画面のラジオボタンで支払方法を選択する
1. 登録ユーザーは「利用規約に同意する」ボックスにチェックを入れる
1. 登録ユーザーは支払方法画面の「購入確認へ」ボタンを押下する
1. システムは購入確認画面を表示する
1. 登録ユーザーは「購入確定」ボタンを押下する
1. システムは決済処理を行う
1. システムは購入完了画面を表示する
1. 登録ユーザーは「ショッピングサイトに戻る」ボタンを押下する
1. システムは商品検索画面を表示する

## 代替フロー

1. 登録ユーザーは商品検索画面の商品一覧から一つの商品を選択し、「カートに追加」ボタンを押下する
1. システムは選択された商品情報をショッピングカート情報に追加する
1. 登録ユーザーは商品検索画面の「ショッピングカート」アイコンをクリックする
1. システムはショッピングカート確認画面を表示する
1. 登録ユーザーはショッピングカート確認画面の「購入手続きへ」ボタンを押下する
1. システムは購入前認証画面を表示する
1. 登録ユーザーは購入前認証画面のフォームにユーザー情報に登録されていない内容を入力する
1. システムは購入前認証画面からの入力内容とユーザー情報を照合する
1. システムは購入前認証画面に認証に失敗したことを示すメッセージを表示する
